#:kivy 1.8.0
    
MyCalc:
    
<KeyButton@Button>:
    color: .8,.9,0,1
    font_size: 32

# background color fix: http://andnovar.wordpress.com/2011/08/03/kivy-label-with-background
# text alignement fix: http://stackoverflow.com/questions/15334280/kivy-button-text-alignment-issue
<Display@Label>:
    canvas.before: 
        Color:
            rgb: .5,.5,.5 
        Rectangle:
            pos: self.pos
            size: self.size
    text: '0'
    color: 1,1,1,1
    font_size: 32
    padding: 0,0
    valign: 'middle'
    haling: 'left'
    text_size: self.width, self.height
        
<MyCalc>:
    display: display
    
    BoxLayout:
        orientation: 'vertical'
        size: root.size

        Display:
            id: display
            size_hint: 1,.15
        
        GridLayout:
            size: root.size
            size_hint: 1,1-.15
            cols: 5
            spacing: 1,1
            Widget:
            Widget:
            Widget:
            KeyButton:
                text: 'AC'
                on_press: root.clear()
            KeyButton:
                text: '<-'
                on_press: root.back()
            KeyButton:
                text: '7'
                on_press: root.key(self.text)
            KeyButton:
                text: '8'
                on_press: root.key(self.text)
            KeyButton:
                text: '9'
                on_press: root.key(self.text)
            KeyButton:
                text: '/'
                on_press: root.function(self.text)
            KeyButton:
                text: 'sqrt'
                on_press: root.function(self.text)
            KeyButton:
                text: '4'
                on_press: root.key(self.text)
            KeyButton:
                text: '5'
                on_press: root.key(self.text)
            KeyButton:
                text: '6'
                on_press: root.key(self.text)
            KeyButton:
                text: '*'
                on_press: root.function(self.text)
            KeyButton:
                text: '%'
                on_press: root.function(self.text)
            KeyButton:
                text: '1'
                on_press: root.key(self.text)
            KeyButton:
                text: '2'
                on_press: root.key(self.text)
            KeyButton:
                text: '3'
                on_press: root.key(self.text)
            KeyButton:
                text: '-'
                on_press: root.function(self.text)
            KeyButton:
                text: '='
                on_press: root.function(self.text)
            KeyButton:
                text: '0'
                on_press: root.key(self.text)
            KeyButton:
                text: '.'
                on_press: root.key(self.text)
            KeyButton:
                text: '+-'
                on_press: root.function(self.text)
            KeyButton:
                text: '+'
                on_press: root.function(self.text)


